<!doctypehtml><meta content="width=device-width,initial-scale=1,user-scalable=no"name=viewport><title>ESP WiFi</title><script>function g(i){return document.getElementById(i)};function p(t,l){if(confirm(t))window.location=l};function E(s){return document.createElement(s)};var S="setAttribute",A="appendChild",H="innerHTML",X,wl,R,al;function scan(){if(X)return;X=new XMLHttpRequest(),wl=document.getElementById('wl');wl[H]="Scanning...";X.onreadystatechange=function(){if(this.readyState==4){if(this.status==200){X=0;wl[H]="";this.responseText.split('\n').forEach(function(e){let t=e.split(','),s=t.slice(2).join(',');var d=E('div'),i=E('a'),c=E('a');i[S]('class','s');c[S]('class','q');i.onclick=function(){g('s').value=s;g('p').focus()};i[A](document.createTextNode(s));c[H]=t[0]+"%"+(parseInt(t[1])?"\uD83D\uDD12":"\u26A0");wl[A](i);wl[A](c);wl[A](document.createElement('br'))})}
else if(this.status==202){X=0;wl[H]=this.responseText;setInterval(scan(),3000)}}};X.open("GET","wifi/list",!0);X.send()};function getAPs(){if(R)return;R=new XMLHttpRequest();al=document.getElementById('al');al[H]="Retrieving Access points...";R.onreadystatechange=function(){if(this.readyState==4&&this.status==200){document.getElementById("i").style.display="block";document.getElementById("st").style.display="block";document.getElementById("a").style.display="none";R=0;al[H]="";this.responseText.split('\n').forEach(function(e){var d=E('div'),c=E('a');c[S]('class','s');c.onclick=function(){g('i').value=e};c[A](document.createTextNode(e));al[A](c);al[A](document.createElement('br'))})}};R.open('GET','wifi/ap',!0);R.send()}</script><style>Input{padding:5px;font-size:1em;width:95%}body{text-align:center;font-family:verdana;background-color:#000;color:#fff}a{color:#1fa3ec}button{border:0;border-radius:.3em;background-color:#1fa3ec;color:#fff;line-height:2.4em;font-size:1.2em;width:100%;display:block}.q{float:right}.s{display:inline-block;width:14em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}#wl{line-height:1.5em}</style><div style=text-align:left;display:inline-block;width:320px;padding:5px><button onclick=scan()>Scan</button><p id=wl><form action=/wifi/connect method=post onsubmit=getAPs()><input id=s length=32 name=n placeholder=SSID><br><input id=p length=64 name=p placeholder=password type=password><br><br><button type=submit>Connect</button></form><br><p id=al></p><button onclick=getAPs() id=a>APs</button><form action=/wifi/store method=post><input id=i length=7 name=i placeholder=SSIDx style=display:none><br><button id=st style=display:none type=submit>Store</button></form><br><br><button onclick='p("Reboot device?","/wifi/rst")'>Reboot</button><br><a href=javascript:history.back()>Back</a>|<a href=/ >Home</a></div>